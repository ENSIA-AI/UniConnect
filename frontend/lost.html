<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>UniConnect | Lost Items</title>
    <link rel="icon" href="images/UniConnect (8).png">
    <link rel="stylesheet" href="lost.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>
<body>
    <!-- ========== HEADER (Required for sidebar) ========== -->
    <header>
        <!-- Hamburger button (shows on mobile only) -->
        <button id="sidebarToggle" class="sidebar-toggle-btn">
            <i class="fas fa-bars"></i>
        </button>

        <!-- Logo -->
        <img src="images/UniConnect (8).png" alt="logo" width="100" height="100">

        <!-- Page title (change for each page) -->
        <h4>Lost Items</h4>

        <!-- Contact link -->
        <a href="index.html#contact" target="_blank" rel="noopener noreferrer">Contact us</a>
    </header>

    <!-- ========== SIDEBAR ========== -->
    <div class="sidebar">
        <!-- Navigation Links -->
        <ul class="nav-links">
            <li><a href="home.html"><i class="fas fa-home"></i> <span>Home</span></a></li>
            <li><a href="lost.html"><i class="fas fa-search"></i> <span>Lost Items</span></a></li>
            <li><a href="studyGroupFinder.html"><i class="fas fa-users"></i> <span>Study Group Finder</span></a></li>
            <li><a href="Marketplace.html"><i class="fas fa-shopping-cart"></i> <span>Marketplace</span></a></li>
            <li><a href="resourcesharing.html"><i class="fas fa-file-alt"></i> <span>Resource Sharing</span></a></li>
            <li><a href="To_do.html"><i class="fas fa-tasks"></i> <span>To-do List</span></a></li>
        </ul>
       
        <!-- Account Section (bottom) -->
        <div class="account-section">
            <div class="account-links">
                <a href="MyAccount.html"><i class="fas fa-user-circle"></i> <span>My account</span></a>
                <a href="index.html" id="logoutBtn"><i class="fas fa-sign-out-alt"></i> <span>Log out</span></a>
            </div>
        </div>
    </div>
    
    <main class="main-content">
        <div class="content-header">
            <div class="search-container">
                <input type="text" placeholder="Search lost items..." id="search-input">
                <button id="search-btn"><i class="fas fa-search"></i></button>
            </div>
        </div>
        
        <div class="action-buttons">
            <button class="btn-primary" id="report-lost-btn">Report Lost Item</button>
            <button class="btn-secondary" id="report-found-btn">Report Found Item</button>
        </div>

        <!-- Lost Items Section -->
        <section class="items-section">
            <h2>Recently Lost Items</h2>
            <div class="items-grid" id="lost-items-container">
                <!-- Lost items will be dynamically added here -->
            </div>
        </section>

        <!-- Found Items Section -->
        <section class="items-section">
            <h2>Recently Found Items</h2>
            <div class="items-grid" id="found-items-container">
                <!-- Found items will be dynamically added here -->
            </div>
        </section>

        <!-- Report Lost Item Form -->
        <div class="report-section" id="lost-report-form" style="display: none;">
            <h2>Report a Lost Item</h2>
            <form class="report-form" id="lost-item-form">
                <div class="form-group">
                    <label for="item-title">Title</label>
                    <input type="text" id="item-title" placeholder="e.g., Lost Wallet" required>
                    <div class="error-message" id="title-error">Please enter a title</div>
                </div>
                
                <div class="form-group">
                    <label for="item-category">Category</label>
                    <select id="item-category" required>
                        <option value="">Select category</option>
                        <option value="wallet">Wallet</option>
                        <option value="phone">Phone</option>
                        <option value="keys">Keys</option>
                        <option value="book">Book</option>
                        <option value="electronics">Electronics</option>
                        <option value="clothing">Clothing</option>
                        <option value="other">Other</option>
                    </select>
                    <div class="error-message" id="category-error">Please select a category</div>
                </div>
                
                <div class="form-group">
                    <label for="item-description">Description</label>
                    <textarea id="item-description" placeholder="Describe the item..." required></textarea>
                    <div class="error-message" id="description-error">Please enter a description</div>
                </div>
                
                <div class="form-group">
                    <label for="item-location">Location Lost</label>
                    <input type="text" id="item-location" placeholder="Where did you lose it?" required>
                    <div class="error-message" id="location-error">Please enter location</div>
                </div>
                
                <div class="form-group">
                    <label for="item-date">Date Lost</label>
                    <input type="date" id="item-date" required>
                    <div class="error-message" id="date-error">Please select date</div>
                </div>
                
                <div class="form-group">
                    <label for="lost-item-image">Item Image (Optional)</label>
                    <div class="image-upload-container" id="lost-image-upload">
                        <i class="fas fa-cloud-upload-alt"></i>
                        <p>Drop image or click to upload</p>
                        <input type="file" id="lost-item-image" accept="image/*" style="display: none;">
                    </div>
                    <div class="image-preview" id="lost-image-preview">
                        <img id="lost-preview-img" src="" alt="Image preview">
                        <button type="button" id="remove-lost-image" class="btn-secondary">Remove Image</button>
                    </div>
                </div>
                
                <div class="form-group">
                    <label for="contact-email">Contact Email</label>
                    <input type="email" id="contact-email" placeholder="Your email" required>
                    <div class="error-message" id="email-error">Please enter valid email</div>
                </div>
                
                <div class="form-actions">
                    <button type="submit" class="btn-primary">Submit Report</button>
                    <button type="button" class="btn-secondary" id="cancel-lost-form">Cancel</button>
                </div>
            </form>
        </div>

        <!-- Report Found Item Form -->
        <div class="report-section" id="found-report-form" style="display: none;">
            <h2>Report a Found Item</h2>
            <form class="report-form" id="found-item-form">
                <div class="form-group">
                    <label for="found-item-title">Title</label>
                    <input type="text" id="found-item-title" placeholder="e.g., Found Phone" required>
                    <div class="error-message" id="found-title-error">Please enter a title</div>
                </div>
                
                <div class="form-group">
                    <label for="found-item-category">Category</label>
                    <select id="found-item-category" required>
                        <option value="">Select category</option>
                        <option value="wallet">Wallet</option>
                        <option value="phone">Phone</option>
                        <option value="keys">Keys</option>
                        <option value="book">Book</option>
                        <option value="electronics">Electronics</option>
                        <option value="clothing">Clothing</option>
                        <option value="other">Other</option>
                    </select>
                    <div class="error-message" id="found-category-error">Please select a category</div>
                </div>
                
                <div class="form-group">
                    <label for="found-item-description">Description</label>
                    <textarea id="found-item-description" placeholder="Describe the item you found..." required></textarea>
                    <div class="error-message" id="found-description-error">Please enter a description</div>
                </div>
                
                <div class="form-group">
                    <label for="found-item-location">Location Found</label>
                    <input type="text" id="found-item-location" placeholder="Where did you find it?" required>
                    <div class="error-message" id="found-location-error">Please enter location</div>
                </div>
                
                <div class="form-group">
                    <label for="found-item-date">Date Found</label>
                    <input type="date" id="found-item-date" required>
                    <div class="error-message" id="found-date-error">Please select date</div>
                </div>
                
                <div class="form-group">
                    <label for="found-item-image">Item Image (Optional)</label>
                    <div class="image-upload-container" id="found-image-upload">
                        <i class="fas fa-cloud-upload-alt"></i>
                        <p>Drop image or click to upload</p>
                        <input type="file" id="found-item-image" accept="image/*" style="display: none;">
                    </div>
                    <div class="image-preview" id="found-image-preview">
                        <img id="found-preview-img" src="" alt="Image preview">
                        <button type="button" id="remove-found-image" class="btn-secondary">Remove Image</button>
                    </div>
                </div>
                
                <div class="form-group">
                    <label for="found-contact-email">Contact Email</label>
                    <input type="email" id="found-contact-email" placeholder="Your email" required>
                    <div class="error-message" id="found-email-error">Please enter valid email</div>
                </div>
                
                <div class="form-group">
                    <label for="storage-location">Current Storage Location</label>
                    <input type="text" id="storage-location" placeholder="Where is the item currently stored?" required>
                    <div class="error-message" id="storage-error">Please enter storage location</div>
                </div>
                
                <div class="form-actions">
                    <button type="submit" class="btn-primary">Submit Found Item</button>
                    <button type="button" class="btn-secondary" id="cancel-found-form">Cancel</button>
                </div>
            </form>
        </div>
    </main>

    <!-- Edit Modal -->
    <div class="modal" id="edit-modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3>Edit Item</h3>
                <span class="close-modal" onclick="closeEditModal()">&times;</span>
            </div>
            <form id="edit-item-form" onsubmit="handleEditFormSubmit(event)">
                <input type="hidden" id="edit-item-id">
                
                <div class="form-group">
                    <label for="edit-item-title">Item Title *</label>
                    <input type="text" id="edit-item-title" required>
                </div>

                <div class="form-group">
                    <label for="edit-item-category">Category *</label>
                    <select id="edit-item-category" required>
                        <option value="">Select category</option>
                        <option value="phone">Phone</option>
                        <option value="wallet">Wallet</option>
                        <option value="keys">Keys</option>
                        <option value="laptop">Laptop</option>
                        <option value="book">Book</option>
                        <option value="electronics">Electronics</option>
                        <option value="clothing">Clothing</option>
                        <option value="other">Other</option>
                    </select>
                </div>

                <div class="form-group">
                    <label for="edit-item-description">Description *</label>
                    <textarea id="edit-item-description" rows="3" required></textarea>
                </div>

                <div class="form-group">
                    <label for="edit-item-location">Location *</label>
                    <input type="text" id="edit-item-location" required>
                </div>

                <div class="form-group">
                    <label for="edit-item-date">Date Lost/Found *</label>
                    <input type="date" id="edit-item-date" required>
                </div>

                <div class="form-group">
                    <label for="edit-contact-email">Contact Email *</label>
                    <input type="email" id="edit-contact-email" required>
                </div>

                <div class="form-group">
                    <label for="edit-item-status">Status *</label>
                    <select id="edit-item-status" required>
                        <option value="">Select status</option>
                        <option value="lost">Lost</option>
                        <option value="found">Found</option>
                    </select>
                </div>

                <div class="form-group">
                    <label for="edit-storage-location">Storage Location</label>
                    <input type="text" id="edit-storage-location" placeholder="Where is the item stored?">
                </div>

                <div class="form-actions">
                    <button type="submit" class="btn-primary">Update Item</button>
                    <button type="button" class="btn-secondary" onclick="closeEditModal()">Cancel</button>
                </div>
            </form>
        </div>
    </div>

    <!-- Success Modal -->
    <div class="modal" id="success-modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3>Report Submitted Successfully</h3>
                <span class="close-modal">&times;</span>
            </div>
            <div class="modal-body">
                <p id="modal-message">Your report has been submitted successfully.</p>
            </div>
            <div class="modal-footer">
                <button class="btn-primary" id="modal-ok">OK</button>
            </div>
        </div>
    </div>

    <script src="lost.js"></script>
</body>
</html>